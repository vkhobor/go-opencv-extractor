{"components":{"schemas":{"CreateJob":{"additionalProperties":false,"properties":{"$schema":{"description":"A URL to the JSON Schema for this object.","examples":["https://example.com/schemas/CreateJob.json"],"format":"uri","readOnly":true,"type":"string"},"filter_id":{"type":"string"},"is_query_based":{"type":"boolean"},"is_single_video":{"type":"boolean"},"limit":{"format":"int64","type":"integer"},"search_query":{"type":"string"},"youtube_id":{"type":"string"}},"required":["is_query_based","is_single_video"],"type":"object"},"CreatedImportJob":{"additionalProperties":false,"properties":{"$schema":{"description":"A URL to the JSON Schema for this object.","examples":["https://example.com/schemas/CreatedImportJob.json"],"format":"uri","readOnly":true,"type":"string"},"id":{"type":"string"}},"required":["id"],"type":"object"},"CreatedJob":{"additionalProperties":false,"properties":{"$schema":{"description":"A URL to the JSON Schema for this object.","examples":["https://example.com/schemas/CreatedJob.json"],"format":"uri","readOnly":true,"type":"string"},"id":{"type":"string"}},"required":["id"],"type":"object"},"ErrorDetail":{"additionalProperties":false,"properties":{"location":{"description":"Where the error occurred, e.g. 'body.items[3].tags' or 'path.thing-id'","type":"string"},"message":{"description":"Error message text","type":"string"},"value":{"description":"The value at the given location"}},"type":"object"},"ErrorModel":{"additionalProperties":false,"properties":{"$schema":{"description":"A URL to the JSON Schema for this object.","examples":["https://example.com/schemas/ErrorModel.json"],"format":"uri","readOnly":true,"type":"string"},"detail":{"description":"A human-readable explanation specific to this occurrence of the problem.","examples":["Property foo is required but is missing."],"type":"string"},"errors":{"description":"Optional list of individual error details","items":{"$ref":"#/components/schemas/ErrorDetail"},"type":["array","null"]},"instance":{"description":"A URI reference that identifies the specific occurrence of the problem.","examples":["https://example.com/error-log/abc123"],"format":"uri","type":"string"},"status":{"description":"HTTP status code","examples":[400],"format":"int64","type":"integer"},"title":{"description":"A short, human-readable summary of the problem type. This value should not change between occurrences of the error.","examples":["Bad Request"],"type":"string"},"type":{"default":"about:blank","description":"A URI reference to human-readable documentation for the error.","examples":["https://example.com/errors/example"],"format":"uri","type":"string"}},"type":"object"},"FrameMatchingTestBody":{"additionalProperties":false,"properties":{"$schema":{"description":"A URL to the JSON Schema for this object.","examples":["https://example.com/schemas/FrameMatchingTestBody.json"],"format":"uri","readOnly":true,"type":"string"},"matched":{"type":"boolean"}},"required":["matched"],"type":"object"},"JobAndVideos":{"additionalProperties":false,"properties":{"$schema":{"description":"A URL to the JSON Schema for this object.","examples":["https://example.com/schemas/JobAndVideos.json"],"format":"uri","readOnly":true,"type":"string"},"id":{"type":"string"},"videos":{"items":{"$ref":"#/components/schemas/JobVideo"},"type":["array","null"]}},"required":["id","videos"],"type":"object"},"JobDetails":{"additionalProperties":false,"properties":{"$schema":{"description":"A URL to the JSON Schema for this object.","examples":["https://example.com/schemas/JobDetails.json"],"format":"uri","readOnly":true,"type":"string"},"id":{"type":"string"},"search_query":{"type":"string"},"video_target":{"format":"int64","type":"integer"},"videos_found":{"format":"int64","type":"integer"}},"required":["id","search_query","video_target","videos_found"],"type":"object"},"JobVideo":{"additionalProperties":false,"properties":{"download_status":{"type":"string"},"import_status":{"type":"string"},"youtube_id":{"type":"string"}},"required":["youtube_id","download_status","import_status"],"type":"object"},"ListJobBody":{"additionalProperties":false,"properties":{"id":{"type":"string"},"limit":{"format":"int64","type":"integer"},"search_query":{"type":"string"}},"required":["id","search_query","limit"],"type":"object"},"ListVideoBody":{"additionalProperties":false,"properties":{"name":{"type":"string"},"progress":{"format":"int64","type":"integer"},"video_id":{"type":"string"}},"required":["video_id","name","progress"],"type":"object"},"Picture":{"additionalProperties":false,"properties":{"blob_id":{"type":"string"},"id":{"type":"string"},"youtube_id":{"type":"string"}},"required":["id","blob_id","youtube_id"],"type":"object"},"ReferenceGetFeatureResponse":{"additionalProperties":false,"properties":{"$schema":{"description":"A URL to the JSON Schema for this object.","examples":["https://example.com/schemas/ReferenceGetFeatureResponse.json"],"format":"uri","readOnly":true,"type":"string"},"BlobIds":{"items":{"type":"string"},"type":["array","null"]},"Discriminator":{"type":"string"},"ID":{"type":"string"},"Minsurfmatches":{"format":"int64","type":"integer"},"Minthresholdforsurfmatches":{"format":"double","type":"number"},"Mseskip":{"format":"double","type":"number"},"Name":{"type":"string"},"Ratiotestthreshold":{"format":"double","type":"number"}},"required":["ID","Name","Discriminator","Ratiotestthreshold","Minthresholdforsurfmatches","Minsurfmatches","Mseskip","BlobIds"],"type":"object"},"ReferenceUploadResponseBody":{"additionalProperties":false,"properties":{"$schema":{"description":"A URL to the JSON Schema for this object.","examples":["https://example.com/schemas/ReferenceUploadResponseBody.json"],"format":"uri","readOnly":true,"type":"string"},"status":{"type":"string"}},"required":["status"],"type":"object"},"Response":{"additionalProperties":false,"properties":{"$schema":{"description":"A URL to the JSON Schema for this object.","examples":["https://example.com/schemas/Response.json"],"format":"uri","readOnly":true,"type":"string"},"pictures":{"items":{"$ref":"#/components/schemas/Picture"},"type":["array","null"]},"total":{"format":"int64","type":"integer"}},"required":["pictures","total"],"type":"object"},"UpdateJobLimitRequestBody":{"additionalProperties":false,"properties":{"$schema":{"description":"A URL to the JSON Schema for this object.","examples":["https://example.com/schemas/UpdateJobLimitRequestBody.json"],"format":"uri","readOnly":true,"type":"string"},"limit":{"format":"int64","type":"integer"}},"required":["limit"],"type":"object"},"VideoMetadataBody":{"additionalProperties":false,"properties":{"$schema":{"description":"A URL to the JSON Schema for this object.","examples":["https://example.com/schemas/VideoMetadataBody.json"],"format":"uri","readOnly":true,"type":"string"},"maxframe":{"format":"int64","type":"integer"}},"required":["maxframe"],"type":"object"}}},"info":{"title":"My API","version":"1.0.0"},"openapi":"3.1.0","paths":{"/api/images":{"get":{"parameters":[{"explode":false,"in":"query","name":"offset","schema":{"format":"int64","type":"integer"}},{"explode":false,"in":"query","name":"limit","schema":{"format":"int64","type":"integer"}},{"explode":false,"in":"query","name":"youtube_id","schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response"}}},"description":"OK"},"default":{"content":{"application/problem+json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Error"}},"summary":"List images","tags":["Images"]}},"/api/jobs":{"get":{"responses":{"200":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ListJobBody"},"type":["array","null"]}}},"description":"OK"},"default":{"content":{"application/problem+json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Error"}},"summary":"List all jobs","tags":["Jobs"]},"post":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateJob"}}},"required":true},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatedJob"}}},"description":"Created","headers":{"Location":{"schema":{"type":"string"}}}},"default":{"content":{"application/problem+json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Error"}},"summary":"Create a new job","tags":["Jobs"]}},"/api/jobs/video":{"post":{"requestBody":{"content":{"multipart/form-data":{"encoding":{"file":{"contentType":"text/plain"},"filter_id":{"contentType":"text/plain"},"name":{"contentType":"text/plain"}},"schema":{"properties":{"file":{"contentEncoding":"binary","contentMediaType":"application/octet-stream","format":"binary","type":"string"},"filter_id":{"type":"string"},"name":{"type":"string"}},"required":["file","filter_id"],"type":"object"}}}},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatedImportJob"}}},"description":"Created","headers":{"Location":{"schema":{"type":"string"}}}},"default":{"content":{"application/problem+json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Error"}},"summary":"Create a direct video job","tags":["Jobs"]}},"/api/jobs/{id}":{"get":{"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobDetails"}}},"description":"OK"},"default":{"content":{"application/problem+json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Error"}},"summary":"Get job details","tags":["Jobs"]}},"/api/jobs/{id}/actions/restart":{"post":{"responses":{"202":{"description":"Accepted"},"default":{"content":{"application/problem+json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Error"}},"summary":"Restart the job pipeline","tags":["Jobs"]}},"/api/jobs/{id}/actions/update-limit":{"post":{"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateJobLimitRequestBody"}}},"required":true},"responses":{"202":{"description":"Accepted"},"default":{"content":{"application/problem+json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Error"}},"summary":"Update job limit","tags":["Jobs"]}},"/api/jobs/{id}/videos":{"get":{"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobAndVideos"}}},"description":"OK"},"default":{"content":{"application/problem+json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Error"}},"summary":"List videos found by job","tags":["Jobs"]}},"/api/references":{"post":{"requestBody":{"content":{"multipart/form-data":{"encoding":{"file":{"contentType":"application/octet-stream"},"minSURFMatches":{"contentType":"text/plain"},"minThresholdForSURFMatches":{"contentType":"text/plain"},"mseSkip":{"contentType":"text/plain"},"ratioTestThreshold":{"contentType":"text/plain"}},"schema":{"properties":{"file":{"contentEncoding":"binary","contentMediaType":"application/octet-stream","format":"binary","type":"string"},"minSURFMatches":{"format":"int64","type":"integer"},"minThresholdForSURFMatches":{"format":"double","type":"number"},"mseSkip":{"format":"double","type":"number"},"ratioTestThreshold":{"format":"double","type":"number"}},"required":["file","ratioTestThreshold","minThresholdForSURFMatches","minSURFMatches","mseSkip"],"type":"object"}}}},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReferenceUploadResponseBody"}}},"description":"Created"},"default":{"content":{"application/problem+json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Error"}},"summary":"Upload reference images","tags":["References"]}},"/api/references/{id}":{"get":{"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReferenceGetFeatureResponse"}}},"description":"OK"},"default":{"content":{"application/problem+json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Error"}},"summary":"Get reference by ID","tags":["References"]}},"/api/videos":{"get":{"responses":{"200":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ListVideoBody"},"type":["array","null"]}}},"description":"OK"},"default":{"content":{"application/problem+json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Error"}},"summary":"List downloaded videos","tags":["Videos"]}},"/testsurf":{"get":{"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoMetadataBody"}}},"description":"OK"},"default":{"content":{"application/problem+json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Error"}},"summary":"Get video metadata","tags":["TestSurf"]}},"/testsurf/frame":{"get":{"parameters":[{"explode":false,"in":"query","name":"framenum","required":true,"schema":{"format":"int64","type":"integer"}}],"responses":{"200":{"description":"OK"},"default":{"content":{"application/problem+json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Error"}},"summary":"Retrieve a specific frame image","tags":["TestSurf"]}},"/testsurf/reference":{"post":{"requestBody":{"content":{"multipart/form-data":{"encoding":{"video":{"contentType":"application/octet-stream"}},"schema":{"properties":{"video":{"contentEncoding":"binary","contentMediaType":"application/octet-stream","format":"binary","type":"string"}},"required":["video"],"type":"object"}}}},"responses":{"201":{"description":"Created"},"default":{"content":{"application/problem+json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Error"}},"summary":"Upload a reference file","tags":["TestSurf"]}},"/testsurf/test":{"get":{"parameters":[{"explode":false,"in":"query","name":"framenum","required":true,"schema":{"format":"int64","type":"integer"}},{"explode":false,"in":"query","name":"ratiocheck","required":true,"schema":{"format":"double","type":"number"}},{"explode":false,"in":"query","name":"minmatches","required":true,"schema":{"format":"int64","type":"integer"}},{"explode":false,"in":"query","name":"goodmatchthreshold","required":true,"schema":{"format":"double","type":"number"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FrameMatchingTestBody"}}},"description":"OK"},"default":{"content":{"application/problem+json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Error"}},"summary":"Test frame matching","tags":["TestSurf"]}},"/testsurf/video":{"post":{"requestBody":{"content":{"multipart/form-data":{"encoding":{"video":{"contentType":"application/octet-stream"}},"schema":{"properties":{"video":{"contentEncoding":"binary","contentMediaType":"application/octet-stream","format":"binary","type":"string"}},"required":["video"],"type":"object"}}}},"responses":{"201":{"description":"Created"},"default":{"content":{"application/problem+json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Error"}},"summary":"Upload a video file","tags":["TestSurf"]}}}}