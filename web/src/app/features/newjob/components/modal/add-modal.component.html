<app-modal-container #modal>
    <app-modal-layout [title]="title()" (closeModal)="closeModal()">
        @switch (type()) {
            @case ('query') {
                <app-create-new-job-form
                    #form
                    (valid)="valid = $event"
                    (data)="data = $event"
                ></app-create-new-job-form>
            }
            @case ('simple') {
                <app-simple-form
                    #form
                    (valid)="valid = $event"
                    (data)="data = $event"
                ></app-simple-form>
            }
        }

        <div footer>
            <app-button
                (click)="save()"
                [disabled]="!valid"
                [isLoading]="saveResult().isPending"
                >Add job</app-button
            >

            <app-button [type]="'secondary'" (click)="onSwitchButtonClick()">
                {{ switchButtonText() }}
            </app-button>

            <app-button (click)="closeModal()" [type]="'secondary'"
                >Cancel</app-button
            >
        </div>
    </app-modal-layout>
</app-modal-container>
